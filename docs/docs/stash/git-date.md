[![logo](../../logo.png)](../stash.md "documentation") 

[H]: ../stash.md           "родитель"
[P]: ../../icons/progress.png  "в процессе..."
[S]: ../../icons/success.png   "ошибок не обнаружено"
   
[![S]][H] git-date v0.0.1
=========================
Инструмент для изменения истории git  
Поддерживает следующие функции:  
  - viewBranch:         список коммитов  
  - updBranch           устанавливает дату для всех коммитов ветки  
  - updLastCommit       устанавливает дату последнего коммита  
  - updCommit           устанавливает дату конкретного коммита  
  - updComment          устанавливает комментарий конкретного коммита  
  - updAnyCommit        устанавливает дату конкретного коммита (deprecated)  
<br/>


viewBranch
----------
Печатает в консоль список коммитов вида:  

```
[GIT-DATE] run... v0.0.4 PRE 
  BRANCH: #4-dev-stash 
  [01][ea222f35b1208b622b5b11ce39438d9bb65d958e][beg: task] 
  [02][ac65d34ae6a709f7aa6ec18e6f08bfc5cb1b6be9][upd: project.root (004) PRE] 
  [03][d3fab9a70c171a597c8c9018b7a66424d3affb4c][add: deploy/stash/windows/7zrun.bat (001) PRE] 
  [04][326a9af3ba9ed63c6d12d33f361a90965f0a8134][upd: docs/docs.md (004) PRE] 

[GIT-DATE] completed successfully 
```
<br/>


updComment
----------
Изменяет комментарий для коммита с указанным хэшом.  
Нужно открыть батник на редактирование, и найти строку вида:  
```
call :updComment "version 0.1.3" "0445874923f051971b37cd36673c14255007fabc"
  if errorlevel 1 (goto :failed)
```
Вписать свои данные, и запустить батник на выполнение  
<br/>


updCommit
---------
Изменяет дату для коммита указанного хэша  
Нужно открыть батник на редактирование, и найти строку:  
```bat
call :updCommit "2024-09-15 18:53:00" "e286a58a26f58a0599f02c1813de2b36b9d27ef5"
  if errorlevel 1 (goto :failed)
```
Вписываем свою дату и хэш-коммита  
После чего запускаем скрипт на выполнение  
<br/>


updBranch
---------
Меняет дату всех коммитов рабочей ветки.  
Перед запуском нужно убедиться, что нет никаких незафиксированных изменений  
И что никакие процессы никакие файлы не держат.  
Открываем батник на редактирование и находим строку вида:  

```
call :updBranch "2025-12-06 14:00:00" "2025-12-07 10:50:00"
  if errorlevel 1 (goto :failed)
```
Нужно вписать нужные даты, после чего запусить батник на выполнение.  
Ветку из 50 коммитов делает около минуты.  
По окончанию работы, скрипт создает файл `branch.log`,  
который содержит актуальный список хэшей коммитов.  
Далее, эти хэши можно использовать для интерактивного ребейза.  

ПРИМЕЧАНИЕ:  
функциональность зависит от внешнего файла:  
```bat
set command=cscript.exe /nologo ^
  "%eDIR_VBS%\offset.vbs"       ^
  "%beg_date%"                  ^
  "%end_date%"                  ^
  "%count%"
```
<br/>


updLastCommit
-------------
Меняет дату последнего коммита  
Нужно открыть батник на редактирование и найти строку:  
```bat
call :updLastCommit "2025-05-05 20:20:00"
  if errorlevel 1 (goto :failed)
```
Вписываем нужную дату, и запускаем батник на выполнение  
<br/>


updAnyCommit
------------
Меняет дату произвольного коммита для которого указан хэш  
Это - старый код, существует только из-за легаси.  
Не рекомендуется его использовать.  
<br/>


История изменений 
-----------------

|  ID  |    дата    | время |      ветка     | status  |  длительность  |
|:----:|:----------:|:-----:|:--------------:|:-------:|:--------------:|
| 0001 | 2025-12-07 | 22:10 | [#4-dev-stash] | VERSION | 21 час         |

[#4-dev-stash]: ../../history.md#-v004-dev
